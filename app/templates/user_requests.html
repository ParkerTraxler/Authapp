{% extends 'base.html' %}
{% block title %}Academic Requests{% endblock %}

{% block content %}

<h1 class="mb-3">Request Management</h1>
<h3 class="mb-3">FERPA</h3>
<p>Click <a href="ferpa">here</a> to fill out the FERPA form.</p>
<h3 class="mb-3">Name/SSN Change</h3>
<p>Click <a href="info_change">here</a> to fill out the name change/SSN form.</p>
<h3 class="mb-3">Medical Withdrawal Request</h3>
<p>Click <a href="medical_withdrawal">here</a> to fill out the medical withdrawal form.</p>
<h3 class="mb-3">Student Drop Request</h3>
<p>Click <a href="student_drop">here</a> to fill out the medical withdrawal form.</p>

<!-- FERPA -->
<h2 class="mb-3">FERPA Requests</h2>
<table class="table">
	<thead>
		<tr>
			<th>Status</th>
			<th>Time Requested</th>
			<th>File</th>
			<th>Edit</th>
		</tr>
	</thead>
	<tbody>
		{% for ferpa_request in ferpa_requests %}
		<tr>
			<td><span class="{% if ferpa_request.status == 'approved' %} text-success
								{% elif ferpa_request.status == 'pending' %} text-warning
								{% elif ferpa_request.status == 'draft' %} text-info
								{% elif ferpa_request.status == 'rejected' %} text-danger
								{% elif ferpa_request.status == 'returned' %} text-secondary {% endif %}">
			{{ ferpa_request.status.capitalize() }}</span></td>
			<td>{{ ferpa_request.time }}</td>
			<td><a href="{{ url_for('main.download_file', filename=ferpa_request.pdf_link) }}" class="btn btn-outline-primary btn-sm">File</a></td>
			<td><a href="{{ url_for('user.edit_ferpa_request', ferpa_request_id=ferpa_request.id) }}" class="btn btn-outline-primary btn-sm">Edit</a></td>
		</tr>
		{% endfor %}
	</tbody>
</table>

<!-- Info Change -->
<h2 class="mb-3">Info Change Requests</h2>
<table class="table">
	<thead>
		<tr>
			<th>Status</th>
			<th>Time Requested</th>
			<th>File</th>
			<th>Edit</th>
		</tr>
	</thead>
	<tbody>
		{% for infochange_request in infochange_requests %}
		<tr>
			<td><span class="{% if infochange_request.status == 'approved' %} text-success
				{% elif infochange_request.status == 'pending' %} text-warning
				{% elif infochange_request.status == 'draft' %} text-info
				{% elif infochange_request.status == 'rejected' %} text-danger
				{% elif infochange_request.status == 'returned' %} text-secondary {% endif %}">
				{{ infochange_request.status.capitalize() }}</span></td>
			<td>{{ infochange_request.time }}</td>
			<td><a href="{{ url_for('main.download_file', filename=infochange_request.pdf_link) }}" class="btn btn-outline-primary btn-sm">File</a></td>
			<td><a href="{{ url_for('user.edit_infochange_request', infochange_request_id=infochange_request.id) }}" class="btn btn-outline-primary btn-sm">Edit</a></td>
		</tr>
		{% endfor %}
	</tbody>
</table>

<!-- Medical Withdrawal Requests -->
<h2 class="mb-3">Medical Withdrawal Requests</h2>
<table class="table">
	<thead>
		<tr>
			<th>Status</th>
			<th>Time Requested</th>
			<th>File</th>
			<th>Edit</th>
		</tr>
	</thead>
	<tbody>
		{% for withdrawal_request in withdrawal_requests %}
		<tr>
			<td><span class="{% if withdrawal_request.status == 'approved' %} text-success
				{% elif withdrawal_request.status == 'pending' %} text-warning
				{% elif withdrawal_request.status == 'draft' %} text-info
				{% elif withdrawal_request.status == 'rejected' %} text-danger
				{% elif withdrawal_request.status == 'returned' %} text-secondary {% endif %}">
				{{ withdrawal_request.status.capitalize() }}</span></td>
			<td>{{ withdrawal_request.time }}</td>
			<td><a href="{{ url_for('main.download_file', filename=withdrawal_request.pdf_link) }}" class="btn btn-outline-primary btn-sm">File</a></td>
			<td><a href="{{ url_for('user.edit_withdrawal_request', withdrawal_request_id=withdrawal_request.id) }}" class="btn btn-outline-primary btn-sm">Edit</a></td>
		</tr>
		{% endfor %}
	</tbody>
</table>

<!-- Student Drop Requests -->
<h2 class="mb-3">Student Drop Requests</h2>
<table class="table">
	<thead>
		<tr>
			<th>Status</th>
			<th>Time Requested</th>
			<th>File</th>
			<th>Edit</th>
		</tr>
	</thead>
	<tbody>
		{% for drop_request in drop_requests %}
		<tr>
			<td><span class="{% if drop_request.status == 'approved' %} text-success
				{% elif drop_request.status == 'pending' %} text-warning
				{% elif drop_request.status == 'draft' %} text-info
				{% elif drop_request.status == 'rejected' %} text-danger
				{% elif drop_request.status == 'returned' %} text-secondary {% endif %}">
				{{ drop_request.status.capitalize() }}</span></td>
			<td>{{ drop_request.time }}</td>
			<td><a href="{{ url_for('main.download_file', filename=drop_request.pdf_link) }}" class="btn btn-outline-primary btn-sm">File</a></td>
			<td><a href="{{ url_for('user.edit_drop_request', drop_request_id=drop_request.id) }}" class="btn btn-outline-primary btn-sm">Edit</a></td>
		</tr>
		{% endfor %}
	</tbody>
</table>

{% endblock %}
